MPASM 5.84  /USERS/RIOMCMAHON/GRAD/FALL2019/   11-1-2019  17:47:17         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ; Hello World program 
                      00002 
                      00003     
                      00004 ;;;;;;; CONFIG ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00005     list  P=PIC18F2553, F=INHX32, C=160, N=0, ST=OFF, MM=OFF, R=DEC, X=OFF
                      00006     #include p18f2553.inc
                      00001         LIST
                      00002 
                      00003 ;==========================================================================
                      00004 ; Build date : Mar 17 2019
                      00005 ;  MPASM PIC18F2553 processor include
                      00006 ; 
                      00007 ;  (c) Copyright 1999-2019 Microchip Technology, All rights reserved
                      00008 ;==========================================================================
                      00009 
                      01578         LIST
                      00007 ; Not sure if I need these configs for my dumb chip
00 0C 1F 1F 83 85 0F C00008             CONFIG      FOSC = HS
       0 0F E0 0F 40 
                      00009             
                      00010 ;           CONFIG      PWRTEN = ON, BOREN = ON, BORV = 1, WDTEN = OFF
                      00011 ;           CONFIG      CCP2MX = PORTC, XINST = OFF
                      00012 
                      00013     
                      00014 ;;;;;;; VARIABLES ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00015 
                      00016         cblock  0x000
                      00017         endc                
                      00018         
000000                00019         org  0x0000         ; Reset vector
000000 0000           00020         nop                 ; No operation, wastes one instruction cycle
000002 EF0E F000      00021         goto  MAINLINE      ; Send program to Mainline code
                      00022 
000008                00023         org  0x0008         ; High priority interrupt vector
000008 EF04 F000      00024         goto  $             ; $ returns code to the current program counter
                      00025 
000018                00026         org  0x0018         ; Low priority interrupt vector
000018 EF0C F000      00027         goto  $   
                      00028 
                      00029         
                      00030 ;;;;;;; MACROS ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00031 MOVLF   macro  literal,dest             ; Move literal to file macro
                      00032         movlw  literal
                      00033         movwf  dest
                      00034         endm
                      00035         
                      00036         
                      00037 ;;;;;;; CODE ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00038 
00001C                00039 MAINLINE
00001C D803           00040         rcall   Initial
                      00041 
00001E                00042 Loop
00001E 708B           00043         BTG     LATC, 0
                      00044 ;       BTG     LATC, 1
000020 D80A           00045         rcall   Wait1s
000022 D7FD           00046         bra     Loop
                      00047         
                      00048         
000024                00049 Initial
000024 6A92           00050         clrf    TRISA
000026 6A93           00051         clrf    TRISB
000028 6A94           00052         clrf    TRISC
00002A 0012           00053         return
                      00054         
00002C                00055 TimerLoop
00002C A4F2           00056         btfss   INTCON, TMR0IF, 0       ; check the TMR0IF flag on INTCON within
                      00057                                         ; access memory. If flag is not raised, 
                      00058                                         ; check indefinitely until it is
00002E D7FE           00059         bra     TimerLoop
000030 9ED5           00060         bcf     T0CON, 7, 0             ; turn timer off by setting bit 7 = 0
000032 94F2           00061         bcf     INTCON, TMR0IF, 0       ; turn off timer flag for next time
000034 0012           00062         return                          ; return back to main loop
                      00063         
                      00064         
                      00065 ;oneSec_num equ 65536-62500
  00000BDC            00066 oneSec_num equ  65536-62500
000036                00067 Wait1s
000036 0E03           00068         movlw   B'00000011'
                      00069 ;       movlw   B'00000111'             ; Timer0 settings (x64 prescaler)
                      00070                                         ; 1s/250ns = 4e6cycles/65536 = 61 prescale
                      00071                                         ; round up to 64. 4e6/64 = 62500 cycles
000038 6ED5           00072         movwf   T0CON,0
                      00073         MOVLF   high oneSec_num, TMR0H  ; Write high and low byte to TMR0
                      00074         MOVLF   low oneSec_num, TMR0L
000042 8ED5           00075         bsf     T0CON,7,0               ; start the timer
000044 DFF3           00076         rcall   TimerLoop
000046 0012           00077         return
                      00078         
                      00079         end

Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :     0 reported,     0 suppressed

